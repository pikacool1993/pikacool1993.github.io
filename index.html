<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.0" color="#222">





  <meta name="keywords" content="Unity OC,">










<meta name="description" content="Unity å’Œ Objective-C äº¤äº’Unity è°ƒç”¨ iOS åŸç”Ÿæ–¹æ³•åœ¨ iOS ä¸­ï¼ŒC è¯­è¨€å¯ä»¥å’Œ Objective-C è¯­è¨€è¿›è¡Œæ··åˆç¼–è¯‘çš„ï¼ŒC# è¯­è¨€åˆæä¾›äº†ä¸€ç§è°ƒç”¨ Cï¼ˆé C++ï¼‰è¯­è¨€çš„æœºåˆ¶ï¼Œ è¿™æ ·å°±å¯ä»¥å®ç° C# è°ƒç”¨ Objective-C çš„åŠŸèƒ½ IL2CPP What is IL2CPP?The technology that we refer to as IL2CPP">
<meta name="keywords" content="Unity OC">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity iOS æ’ä»¶å®è·µ">
<meta property="og:url" content="https://github.com/pikacool1993/2021/02/23/unity-ios-plugin/index.html">
<meta property="og:site_name" content="Pikacool">
<meta property="og:description" content="Unity å’Œ Objective-C äº¤äº’Unity è°ƒç”¨ iOS åŸç”Ÿæ–¹æ³•åœ¨ iOS ä¸­ï¼ŒC è¯­è¨€å¯ä»¥å’Œ Objective-C è¯­è¨€è¿›è¡Œæ··åˆç¼–è¯‘çš„ï¼ŒC# è¯­è¨€åˆæä¾›äº†ä¸€ç§è°ƒç”¨ Cï¼ˆé C++ï¼‰è¯­è¨€çš„æœºåˆ¶ï¼Œ è¿™æ ·å°±å¯ä»¥å®ç° C# è°ƒç”¨ Objective-C çš„åŠŸèƒ½ IL2CPP What is IL2CPP?The technology that we refer to as IL2CPP">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://blogs.unity3d.com/wp-content/uploads/2015/04/il2cpp-toolchain-smaller.png">
<meta property="og:updated_time" content="2021-02-23T06:39:52.853Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Unity iOS æ’ä»¶å®è·µ">
<meta name="twitter:description" content="Unity å’Œ Objective-C äº¤äº’Unity è°ƒç”¨ iOS åŸç”Ÿæ–¹æ³•åœ¨ iOS ä¸­ï¼ŒC è¯­è¨€å¯ä»¥å’Œ Objective-C è¯­è¨€è¿›è¡Œæ··åˆç¼–è¯‘çš„ï¼ŒC# è¯­è¨€åˆæä¾›äº†ä¸€ç§è°ƒç”¨ Cï¼ˆé C++ï¼‰è¯­è¨€çš„æœºåˆ¶ï¼Œ è¿™æ ·å°±å¯ä»¥å®ç° C# è°ƒç”¨ Objective-C çš„åŠŸèƒ½ IL2CPP What is IL2CPP?The technology that we refer to as IL2CPP">
<meta name="twitter:image" content="https://blogs.unity3d.com/wp-content/uploads/2015/04/il2cpp-toolchain-smaller.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://github.com/pikacool1993/2021/02/23/unity-ios-plugin/">





  <title>Pikacool</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Pikacool</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ä¹Ÿæ›¾é²œè¡£æ€’é©¬å°‘å¹´æ—¶ï¼Œä¸€å¤œå¿˜å°½é•¿å®‰èŠ±</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2021/02/23/unity-ios-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/23/unity-ios-plugin/" itemprop="url">Unity iOS æ’ä»¶å®è·µ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-23T10:37:22+08:00">2021-02-23</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Unity-å’Œ-Objective-C-äº¤äº’"><a href="#Unity-å’Œ-Objective-C-äº¤äº’" class="headerlink" title="Unity å’Œ Objective-C äº¤äº’"></a>Unity å’Œ Objective-C äº¤äº’</h3><h4 id="Unity-è°ƒç”¨-iOS-åŸç”Ÿæ–¹æ³•"><a href="#Unity-è°ƒç”¨-iOS-åŸç”Ÿæ–¹æ³•" class="headerlink" title="Unity è°ƒç”¨ iOS åŸç”Ÿæ–¹æ³•"></a>Unity è°ƒç”¨ iOS åŸç”Ÿæ–¹æ³•</h4><p>åœ¨ <code>iOS</code> ä¸­ï¼Œ<code>C</code> è¯­è¨€å¯ä»¥å’Œ <code>Objective-C</code> è¯­è¨€è¿›è¡Œæ··åˆç¼–è¯‘çš„ï¼Œ<code>C#</code> è¯­è¨€åˆæä¾›äº†ä¸€ç§è°ƒç”¨ <code>C</code>ï¼ˆé <code>C++</code>ï¼‰è¯­è¨€çš„æœºåˆ¶ï¼Œ è¿™æ ·å°±å¯ä»¥å®ç° <code>C#</code> è°ƒç”¨ <code>Objective-C</code> çš„åŠŸèƒ½</p>
<h5 id="IL2CPP"><a href="#IL2CPP" class="headerlink" title="IL2CPP"></a>IL2CPP</h5><blockquote>
<p>What is IL2CPP?<br>The technology that we refer to as IL2CPP has two distinct parts.<br>1. An ahead-of-time (AOT) compiler<br>2. A runtime library to support the virtual machine<br>The AOT compiler translates Intermediate Language (IL), the low-level output from .NET compilers, to C++ source code. The runtime library provides services and abstractions like a garbage collector, platform-independent access to threads and files, and implementations of internal calls (native code which modifies managed data structures directly).</p>
</blockquote>
<p><img src="https://blogs.unity3d.com/wp-content/uploads/2015/04/il2cpp-toolchain-smaller.png" alt="LayoutEngine.png"></p>
<p>Unityè„šæœ¬ç¼–è¯‘æˆä¸­é—´è¯­è¨€ï¼ˆ<code>IL</code>ï¼ŒåŠ¨æ€åº“ç­‰ï¼‰ï¼Œé€šè¿‡IL2CPPç¨‹åºå°† <code>IL</code> è½¬æ¢æˆ <code>C++</code>è¯­è¨€</p>
<h5 id="DllImport"><a href="#DllImport" class="headerlink" title="DllImport"></a>DllImport</h5><p><code>C#</code> æä¾›äº† <code>DllImport</code> æœºåˆ¶æ¥å®ç° <code>C#</code> äº <code>C</code> è¯­è¨€çš„æ–¹æ³•è°ƒç”¨</p>
<ul>
<li>æ— å‚æ— è¿”å›å€¼</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">DllImport(<span class="meta-string">"__Internal"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">internal</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">CallFunction</span>(<span class="params"></span>)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>æœ‰å‚æ— è¿”å›å€¼</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">DllImport(<span class="meta-string">"__Internal"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">internal</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">CallFunction</span>(<span class="params"><span class="keyword">string</span> param</span>)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>æœ‰å‚æœ‰è¿”å›å€¼</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">DllImport(<span class="meta-string">"__Internal"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">internal</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">string</span> <span class="title">CallFunction</span>(<span class="params"><span class="keyword">string</span> param</span>)</span>;</span><br></pre></td></tr></table></figure>

<h6 id="DllImport-çš„è¯­æ³•è§„åˆ™"><a href="#DllImport-çš„è¯­æ³•è§„åˆ™" class="headerlink" title="DllImport çš„è¯­æ³•è§„åˆ™"></a>DllImport çš„è¯­æ³•è§„åˆ™</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">DllImport(<span class="meta-string">"__Internal"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">internal</span> <span class="keyword">static</span> <span class="keyword">extern</span> ReturnValue <span class="title">FunctionName</span>(<span class="params"><span class="keyword">string</span> parameter1, <span class="keyword">int</span> parameter2</span>)</span>;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæ˜¯ <code>C</code> è¯­è¨€ï¼Œæ”¯æŒçš„å‚æ•°åŠå…¶æ•°æ®ç±»å‹æ˜¯éå¸¸æœ‰é™çš„ï¼Œè¯¸å¦‚ <code>int</code>ã€<code>float</code>ã€<code>double</code>ã€<code>char</code> ç­‰è¿™ç±»ä¸¤ç§è¯­è¨€ä¸­éƒ½å­˜åœ¨çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œæ˜¯å¯ä»¥å®ç°ç›´æ¥æ˜ å°„çš„ï¼Œä½†æ˜¯ <code>C#</code> ä¸­çš„ <code>string</code> å¯¹åº”åˆ° <code>C</code> ä¸­ï¼Œå°±æ˜¯ <code>char*</code> äº†</p>
<h6 id="iOS-å®ç°-DllImport"><a href="#iOS-å®ç°-DllImport" class="headerlink" title="iOS å®ç° DllImport"></a>iOS å®ç° DllImport</h6><p><code>.h</code> æ–‡ä»¶ä¸­</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span> &#123;</span><br><span class="line">	<span class="keyword">char</span>* CallFunction(<span class="keyword">char</span> *parma);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>.mm</code> æ–‡ä»¶ä¸­</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* CallFunction(<span class="keyword">char</span> *parma) &#123;</span><br><span class="line">	<span class="comment">// return ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="iOS-è°ƒç”¨-Unity-åŸç”Ÿæ–¹æ³•"><a href="#iOS-è°ƒç”¨-Unity-åŸç”Ÿæ–¹æ³•" class="headerlink" title="iOS è°ƒç”¨ Unity åŸç”Ÿæ–¹æ³•"></a>iOS è°ƒç”¨ Unity åŸç”Ÿæ–¹æ³•</h6><p>è¿™ç§æ–¹å¼ç”¨äº <code>iOS</code> ç»™ <code>Unity</code> ä¸€äº›æ–¹æ³•å›è°ƒ</p>
<ul>
<li><code>MonoPInvokeCallback</code></li>
</ul>
<blockquote>
<p>Attribute used to annotate functions that will be called back from the unmanaged world.</p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦ä½¿ç”¨æ‰‹æœºç›¸å†Œæƒé™æ‹¿ä¸€å¼ å›¾ç‰‡åœ¨ <code>Unity</code> ä¸­ä½¿ç”¨</p>
<p><code>C#</code> ä¸­ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ Unity ä¸­æ¥æ”¶å›è°ƒçš„äº‹ä»¶</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> UnityAction&lt;<span class="keyword">string</span>&gt; _selectPhotoAction;</span><br><span class="line"><span class="comment">// å£°æ˜å›è°ƒä»£ç†</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">delegate</span> <span class="keyword">void</span> <span class="title">SelectPhotoCallback</span>(<span class="params"><span class="keyword">string</span> photo</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ä¸­è®¾ç½®å›è°ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Init</span>(<span class="params"></span>) </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	_SetSelectPhotoCallback(DidReceiveSelectPhotoCallback);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾› Unity ä¸­è°ƒç”¨é€‰æ‹©ç…§ç‰‡çš„æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªé€‰æ‹©ç»“æœçš„å›è°ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnSelectPhoto</span>(<span class="params">UnityAction&lt;<span class="keyword">string</span>&gt; callback</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	_selectPhotoAction = callback;</span><br><span class="line">	_SelectPhoto();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iOS åŸç”Ÿçš„å›è°ƒ</span></span><br><span class="line">[<span class="meta">AOT.MonoPInvokeCallback(typeof(SelectPhotoCallback))</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DidReceiveSelectPhotoCallback</span>(<span class="params"><span class="keyword">string</span> photo</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	_selectPhotoAction?.Invoke(photo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠ Unity ä¸­å®šä¹‰çš„æ¥æ”¶åŸç”Ÿäº‹ä»¶å›è°ƒä¼ ç»™ OC</span></span><br><span class="line">[<span class="meta">DllImport(<span class="meta-string">"__Internal"</span>)</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> _SetupSelectPhotoCallback(SelectPhotoCallback callback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ OC åŸç”Ÿæ–¹æ³•</span></span><br><span class="line">[<span class="meta">DllImport(<span class="meta-string">"__Internal"</span>)</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> _SelectPhoto();</span><br></pre></td></tr></table></figure>

<p><code>OC</code> ä¸­</p>
<p><code>.h</code> æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NativeUtils</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">void</span>(*SelectPhotoCallback)(<span class="keyword">const</span> <span class="keyword">char</span> *photo);</span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> _SetupSelectPhotoCallback(SelectPhotoCallback callback);</span><br><span class="line">    <span class="keyword">void</span> _SelectPhoto();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<p><code>.mm</code> æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#define Convert2Char( _x_ ) ( _x_ != NULL &amp;&amp; [_x_ isKindOfClass:[NSString class]] ) ? strdup( [_x_ UTF8String] ) : strdup( [@<span class="meta-string">""</span> UTF8String] )</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NativeUtils</span> ()</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) SelectPhotoCallback selectPhotoCallback;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">WMNativeUtils</span></span></span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">instancetype</span>)shared &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line">    <span class="keyword">static</span> NativeUtils *instance = <span class="literal">nil</span>;</span><br><span class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken,^&#123;</span><br><span class="line">        instance = [[<span class="keyword">self</span> alloc] init];</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)bindSelectPhotoCallback:(SelectPhotoCallback)callback &#123;</span><br><span class="line">    <span class="keyword">self</span>.selectPhotoCallback = callback;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)selectPhoto &#123;</span><br><span class="line">	<span class="comment">// è°ƒèµ·ç³»ç»Ÿç›¸å†Œï¼Œé€‰æ‹©...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark UIImagePickerControllerDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)imagePickerController:(<span class="built_in">UIImagePickerController</span> *)picker didFinishPickingMediaWithInfo:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">UIImagePickerControllerInfoKey</span>,<span class="keyword">id</span>&gt; *)info &#123;</span><br><span class="line">    [picker dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">UIImage</span> *image = info[<span class="built_in">UIImagePickerControllerEditedImage</span>];</span><br><span class="line">    <span class="comment">// base64 å½¢å¼</span></span><br><span class="line">    <span class="built_in">NSString</span> *imageBase64String = [imageData base64EncodedStringWithOptions:<span class="built_in">NSDataBase64EncodingEndLineWithLineFeed</span>];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.selectPhotoCallback) &#123;</span><br><span class="line">        <span class="keyword">self</span>.selectPhotoCallback(Convert2Char(imageBase64String));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - CPlusPlus</span></span><br><span class="line"><span class="keyword">void</span> _SetupSelectPhotoCallback(SelectPhotoCallback callback) &#123;</span><br><span class="line">    [[NativeUtils shared] bindSelectPhotoCallback:callback];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> _SelectPhoto() &#123;</span><br><span class="line">    [[NativeUtils shared] selectPhoto];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2021/02/22/objc-interface/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/22/objc-interface/" itemprop="url">Objective-Cä¸­çš„@interfaceå’Œ@implementation</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-22T17:09:33+08:00">2021-02-22</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Objective-Cä¸­çš„-interfaceå’Œ-implementation"><a href="#Objective-Cä¸­çš„-interfaceå’Œ-implementation" class="headerlink" title="Objective-Cä¸­çš„@interfaceå’Œ@implementation"></a>Objective-Cä¸­çš„@interfaceå’Œ@implementation</h3><h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>Objcçš„ç±»å£°æ˜ä½¿ç”¨ <code>interface</code> ï¼Œä½†æ˜¯åœ¨å…¶å®ƒé¢å‘å¯¹è±¡çš„è¯­è¨€ä¸­ä½¿ç”¨ <code>class</code> æ¥è¡¨ç¤ºï¼Œ<code>interface</code> åœ¨ Java ä¸­è¿‘ä¼¼äº Objc ä¸­çš„ <code>protocol</code>, æ‰€ä»¥ Objc ä¸­çš„ <code>interface</code> ä»¥åŠ <code>implementation</code> çš„è®¾è®¡æ€æƒ³æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h4 id="interface"><a href="#interface" class="headerlink" title="@interface"></a>@interface</h4><p>å¼•ç”¨ä¸€æ®µå®˜æ–¹çš„è§£é‡Š</p>
<blockquote>
<p>This information goes into the interface for your classâ€”it defines the way you intend other objects to interact with instances of your class. The public interface is described separately from the internal behavior of your class, which makes up the class implementation. In Objective-C, the interface and implementation are usually placed in separate files so that you only need to make the interface public. </p>
</blockquote>
<p>å¤§æ¦‚æ„æ€å°±æ˜¯å®ƒå®šä¹‰äº†ä½ å¸Œæœ›ä¸å…¶å®ƒå¯¹è±¡å’Œç±»å®ä¾‹è¿›è¡Œäº¤äº’çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ <code>interface</code> åªå­˜åœ¨äºèƒ½ç›¸äº’å½±å“çš„ä¸¤è€…é—´</p>
<h4 id="é‚£ä¹ˆé—®é¢˜æ¥äº†-interface-ç”Ÿæˆäº†-class"><a href="#é‚£ä¹ˆé—®é¢˜æ¥äº†-interface-ç”Ÿæˆäº†-class" class="headerlink" title="é‚£ä¹ˆé—®é¢˜æ¥äº† @interface ç”Ÿæˆäº† class?"></a>é‚£ä¹ˆé—®é¢˜æ¥äº† <code>@interface</code> ç”Ÿæˆäº† <code>class</code>?</h4><p>åˆšæ¥è§¦ Objc æ—¶è‚¯å®šæ˜¯ä»æ€ä¹ˆå†™ä¸€ä¸ªç±»å¼€å§‹çš„ï¼Œåœ¨ <code>.h</code> æ–‡ä»¶ä¸­å†™ <code>@interface</code> å£°æ˜ç±»ï¼Œç„¶ååœ¨ <code>.m</code> æ–‡ä»¶ä¸­å†™ <code>@implementation</code>ï¼Œæ‰€ä»¥è‡ªç„¶å°±ä¼šè§‰å¾—æ˜¯ <code>@interface</code> å°±ç›¸å½“äº java æˆ–è€… C# ä¸­å†™ä¸€ä¸ª <code>class</code></p>
<p>Talk is cheap. Show me the code</p>
<p>åœ¨ <code>Dog</code> ç±»ä¸­åªæœ‰ <code>.m</code> æ–‡ä»¶åªå†™ <code>@implementation</code>ï¼Œåœ¨ <code>Cat</code> ç±»ä¸­åªæœ‰ <code>.h</code> æ–‡ä»¶åªå†™ <code>@interface</code></p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Dog</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Cat</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<p>éªŒè¯</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Class dogClass = <span class="built_in">NSClassFromString</span>(<span class="string">@"Dog"</span>);</span><br><span class="line">Class catClass = <span class="built_in">NSClassFromString</span>(<span class="string">@"Cat"</span>);</span><br><span class="line">    </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Dog: %@"</span>, dogClass);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Cat: %@"</span>, catClass);</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ Dog: Dog</span><br><span class="line">$ Cat: (null)</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç»“æœè¯´æ˜æ˜¯ <code>@implementation</code> ç”Ÿæˆäº† <code>class</code></p>
<h4 id="interfaceå’Œ-implementation"><a href="#interfaceå’Œ-implementation" class="headerlink" title="@interfaceå’Œ@implementation"></a>@interfaceå’Œ@implementation</h4><p><code>@interface</code> å¯¹ç±»ç»“æ„çš„åˆæˆæ²¡æœ‰å†³å®šæ€§çš„ä½œç”¨ï¼Œ åªæ˜¯æ²¡æœ‰å®ƒä¼šä¸¢å¤±ä¸€äº›ç±»è‡ªèº«çš„åŸå§‹æ•°æ®ï¼Œå¦‚å±æ€§åˆ—è¡¨å’Œåè®®åˆ—è¡¨ï¼Œå¯¹å¯¹è±¡æ¶ˆæ¯å‘é€å¹¶æ²¡æœ‰å½±å“ï¼Œæ‰€ä»¥ <code>@interface</code> å°±æ˜¯ä¸ºäº†ç»™è°ƒç”¨è€…çœ‹ï¼Œæš´éœ²è‡ªå·±çš„å…¬æœ‰æ–¹æ³•å’Œå±æ€§ç­‰ï¼Œæ˜¯ä¸€ä¸ªå‡çº§ç‰ˆçš„ <code>protocol</code></p>
<h4 id="interfaceå’Œ-protocol"><a href="#interfaceå’Œ-protocol" class="headerlink" title="@interfaceå’Œ@protocol"></a>@interfaceå’Œ@protocol</h4><p><code>@interface</code> å’Œ <code>@protocal</code> é—´å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯æ˜¯å¦å’Œä¸€ä¸ªç±»å‹ç»‘å®š</p>
<p>æ¯”å¦‚æˆ‘ä»¬å¸¸å¸¸å®šä¹‰ä¸€ä¸ªä»£ç† <code>id&lt;XXDelegate&gt; delegate</code> æˆ‘ä»¬å°±ä¸ç”¨çŸ¥é“è¿™ä¸ªä»£ç†åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œåªç”¨çŸ¥é“å®ƒèƒ½å¹²ä»€ä¹ˆå°±å¥½äº†ï¼ŒåŒæ ·å¯ä»¥è¿™æ ·å®šä¹‰ <code>XXDelegate *delegate</code>, è¿™æ ·å°±ä¼šè€¦åˆä¸€ä¸ª <code>XXDelegate</code> ç±»å‹ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å…³å¿ƒå®ƒæ˜¯ä»€ä¹ˆ</p>
<h4 id="ä¸€ä¸ªé—®é¢˜"><a href="#ä¸€ä¸ªé—®é¢˜" class="headerlink" title="ä¸€ä¸ªé—®é¢˜"></a>ä¸€ä¸ªé—®é¢˜</h4><p>å½“å­ç±»éœ€è¦ä½¿ç”¨çˆ¶ç±»çš„ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆæ–¹æ³•ï¼‰æ—¶ï¼Œéœ€è¦æŠŠè¿™ä¸ªå±æ€§ï¼ˆæ–¹æ³•ï¼‰æ”¾åˆ°çˆ¶ç±»çš„headerä¸­ï¼Œä½†æš´éœ²ç»™å­ç±»çš„åŒæ—¶æš´éœ²ç»™äº†å¤–éƒ¨è°ƒç”¨è€…ï¼Œå¦‚ä½•è§£å†³?</p>
<p>å»ºç«‹ä¸€ä¸ªç§æœ‰headerï¼Œä½¿ç”¨ç±»æ‰©å±•å®šä¹‰çˆ¶ç±»éœ€è¦æš´éœ²ç»™å­ç±»çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œç„¶ååœ¨å„è‡ªçš„ <code>.m</code> æ–‡ä»¶ä¸­å¼•ç”¨ï¼Œå¦‚ï¼š</p>
<p>æœ‰ <code>Father</code> ç±»å’Œ <code>Son</code> ç±»ï¼Œç»§æ‰¿å…³ç³»ï¼Œå¯ä»¥è€ƒè™‘å»ºä¸€ä¸ªå¦‚ <code>FatherPrivate.h</code> çš„ç§æœ‰headerï¼š</p>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FatherPrivate.h</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Father</span> ()</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *privateThingSonNeed;</span><br><span class="line">- (<span class="keyword">void</span>)privateMethodNeedsSonOverride;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<p>åŒæ—¶åœ¨ <code>Father.m</code> å’Œ <code>Son.m</code> ä¸­åŒæ—¶ <code>import</code> è¿™ä¸ªç§æœ‰headerï¼Œè¿™æ · <code>Father</code> å’Œ <code>Son</code> å†…éƒ¨å¯¹äºå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é€æ˜çš„ï¼Œè€Œå¯¹å¤–éƒ¨æ˜¯éšè—çš„ï¼ˆå› ä¸ºä¸¤ä¸ªç±»çš„headerä¸­éƒ½æ²¡æœ‰ <code>import</code> è¿™ä¸ªç§æœ‰headerï¼‰</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2021/02/07/layoutengine/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/07/layoutengine/" itemprop="url">Auto Layout</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-07T10:06:58+08:00">2021-02-07</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Auto-Layout-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Auto-Layout-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Auto Layout çš„ç”Ÿå‘½å‘¨æœŸ"></a>Auto Layout çš„ç”Ÿå‘½å‘¨æœŸ</h3><h4 id="åŒ…å«äº†å¸ƒå±€åœ¨è¿è¡Œæ—¶çš„ç”Ÿå‘½å‘¨æœŸç­‰ä¸€æ•´å¥—å¸ƒå±€å¼•æ“ç³»ç»Ÿï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†å¸ƒå±€çš„åˆ›å»ºã€æ›´æ–°å’Œé”€æ¯ã€‚"><a href="#åŒ…å«äº†å¸ƒå±€åœ¨è¿è¡Œæ—¶çš„ç”Ÿå‘½å‘¨æœŸç­‰ä¸€æ•´å¥—å¸ƒå±€å¼•æ“ç³»ç»Ÿï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†å¸ƒå±€çš„åˆ›å»ºã€æ›´æ–°å’Œé”€æ¯ã€‚" class="headerlink" title="åŒ…å«äº†å¸ƒå±€åœ¨è¿è¡Œæ—¶çš„ç”Ÿå‘½å‘¨æœŸç­‰ä¸€æ•´å¥—å¸ƒå±€å¼•æ“ç³»ç»Ÿï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†å¸ƒå±€çš„åˆ›å»ºã€æ›´æ–°å’Œé”€æ¯ã€‚"></a>åŒ…å«äº†å¸ƒå±€åœ¨è¿è¡Œæ—¶çš„ç”Ÿå‘½å‘¨æœŸç­‰ä¸€æ•´å¥—å¸ƒå±€å¼•æ“ç³»ç»Ÿï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†å¸ƒå±€çš„åˆ›å»ºã€æ›´æ–°å’Œé”€æ¯ã€‚</h4><ul>
<li>å¸ƒå±€å¼•æ“ç³»ç»Ÿå«ä½œ Layout Engine ï¼Œæ˜¯ Auto Layout çš„æ ¸å¿ƒï¼Œä¸»å¯¼ç€æ•´ä¸ªç•Œé¢å¸ƒå±€ã€‚</li>
</ul>
<p><img src="https://i.loli.net/2021/02/07/EPQoJCiapdD6TG5.png" alt="LayoutEngine.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2020/06/19/xcode-instruments/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/19/xcode-instruments/" itemprop="url">Instruments â€” Time Profilerè€—æ—¶åˆ†æ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-19T11:20:42+08:00">2020-06-19</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2020/03/02/csharp-base-code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/02/csharp-base-code/" itemprop="url">Unity3D å®ç”¨å°æŠ€å·§ - C# å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-02T10:40:59+08:00">2020-03-02</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Unity3D-å®ç”¨å°æŠ€å·§-C-å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»"><a href="#Unity3D-å®ç”¨å°æŠ€å·§-C-å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»" class="headerlink" title="Unity3D å®ç”¨å°æŠ€å·§ - C# å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»"></a>Unity3D å®ç”¨å°æŠ€å·§ - C# å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»</h2><h3 id="DateTime"><a href="#DateTime" class="headerlink" title="DateTime"></a>DateTime</h3><p>DateTime æ•°å­—ç±»å‹ï¼ŒDateTime æ˜¯ä¸€ä¸ªåŒ…å«æ—¥æœŸã€æ—¶é—´çš„ç±»å‹ï¼Œæ­¤ç±»å‹é€šè¿‡ ToString() è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œå¯æ ¹æ®ä¼ å…¥ç»™ Tostring() çš„å‚æ•°è½¬æ¢ä¸ºå¤šç§å­—ç¬¦ä¸²æ ¼å¼ã€‚</p>
<p><code>System.DateTime currentTime=new System.DateTime();</code></p>
<ul>
<li><p>å–å½“å‰å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼š<br><code>currentTime=System.DateTime.Now;</code></p>
</li>
<li><p>å–å½“å‰å¹´ï¼š<code>int å¹´=currentTime.Year;</code></p>
</li>
<li><p>å–å½“å‰æœˆï¼š<code>int æœˆ=currentTime.Month;</code></p>
</li>
<li><p>å–å½“å‰æ—¥ï¼š<code>int æ—¥=currentTime.Day;</code></p>
</li>
<li><p>å–å½“å‰æ—¶ï¼š<code>int æ—¶=currentTime.Hour;</code></p>
</li>
<li><p>å–å½“å‰åˆ†ï¼š<code>int åˆ†=currentTime.Minute;</code></p>
</li>
<li><p>å–å½“å‰ç§’ï¼š<code>int ç§’=currentTime.Second;</code></p>
</li>
<li><p>å–å½“å‰æ¯«ç§’ï¼š<br><code>int æ¯«ç§’=currentTime.Millisecond;ï¼ˆå˜é‡å¯ç”¨ä¸­æ–‡ï¼‰</code></p>
</li>
<li><p>å–ä¸­æ–‡æ—¥æœŸæ˜¾ç¤º-å¹´æœˆæ—¥æ—¶åˆ†ï¼š<br><code>string strY=currentTime.ToString(&quot;f&quot;); //ä¸æ˜¾ç¤ºç§’</code></p>
</li>
<li><p>å–ä¸­æ–‡æ—¥æœŸæ˜¾ç¤º-å¹´æœˆï¼š<br><code>string strYM=currentTime.ToString(&quot;y&quot;);</code></p>
</li>
<li><p>å–ä¸­æ–‡æ—¥æœŸæ˜¾ç¤º-æœˆæ—¥ï¼š<br><code>string strMD=currentTime.ToString(&quot;m&quot;);</code></p>
</li>
<li><p>å–ä¸­æ–‡å¹´æœˆæ—¥ï¼š<br><code>string strYMD=currentTime.ToString(&quot;D&quot;);</code></p>
</li>
<li><p>å–å½“å‰æ—¶åˆ†ï¼Œæ ¼å¼ä¸ºï¼š(14ï¼š24)ï¼š<br><code>string strT=currentTime.ToString(&quot;t&quot;);</code></p>
</li>
<li><p>å–å½“å‰æ—¶é—´ï¼Œæ ¼å¼ä¸ºï¼š2003-09-23T14:46:48ï¼š<br><code>string strT=currentTime.ToString(&quot;s&quot;);</code></p>
</li>
<li><p>å–å½“å‰æ—¶é—´ï¼Œæ ¼å¼ä¸ºï¼š2003-09-2314:48:30Zï¼š<br><code>string strT=currentTime.ToString(&quot;u&quot;);</code></p>
</li>
<li><p>å–å½“å‰æ—¶é—´ï¼Œæ ¼å¼ä¸ºï¼š2003-09-2314:48ï¼š<br><code>string strT=currentTime.ToString(&quot;g&quot;);</code></p>
</li>
<li><p>å–å½“å‰æ—¶é—´ï¼Œæ ¼å¼ä¸ºï¼šTue,23 Sep 2003 14:52:40 GMTï¼š<br><code>string strT=currentTime.ToString(&quot;r&quot;);</code></p>
</li>
<li><p>è·å¾—å½“å‰æ—¶é—´n å¤©åçš„æ—¥æœŸæ—¶é—´ï¼š<br><code>DateTime newDay = DateTime.Now.AddDays(100);</code></p>
</li>
</ul>
<h3 id="å…¶ä»–ç±»å‹å­—ç¬¦ä¸²è½¬æ¢-å˜é‡-ToString"><a href="#å…¶ä»–ç±»å‹å­—ç¬¦ä¸²è½¬æ¢-å˜é‡-ToString" class="headerlink" title="å…¶ä»–ç±»å‹å­—ç¬¦ä¸²è½¬æ¢  å˜é‡.ToString()"></a>å…¶ä»–ç±»å‹å­—ç¬¦ä¸²è½¬æ¢  å˜é‡.ToString()</h3><pre><code>12345.ToString(&quot;n&quot;); //ç”Ÿæˆ 12,345.00

12345.ToString(&quot;C&quot;); //ç”Ÿæˆ ï¿¥12,345.00

12345.ToString(&quot;e&quot;);//ç”Ÿæˆ 1.234500e+004

12345.ToString(&quot;f4&quot;); //ç”Ÿæˆ 12345.0000

12345.ToString(&quot;x&quot;); //ç”Ÿæˆ 3039 (16è¿›åˆ¶)

12345.ToString(&quot;p&quot;); //ç”Ÿæˆ 1,234,500.00%</code></pre><h3 id="å­—ç¬¦å‹è½¬æ¢è½¬ä¸º-32-ä½æ•°å­—å‹"><a href="#å­—ç¬¦å‹è½¬æ¢è½¬ä¸º-32-ä½æ•°å­—å‹" class="headerlink" title="å­—ç¬¦å‹è½¬æ¢è½¬ä¸º 32 ä½æ•°å­—å‹"></a>å­—ç¬¦å‹è½¬æ¢è½¬ä¸º 32 ä½æ•°å­—å‹</h3><pre><code>Int32.Parse(å˜é‡) Int32.Parse(&quot;å¸¸é‡&quot;)
Int32.Parse(&quot;123&quot;);//ç”Ÿæˆ 123</code></pre><h3 id="å˜é‡-Length-æ•°å­—å‹"><a href="#å˜é‡-Length-æ•°å­—å‹" class="headerlink" title="å˜é‡.Length æ•°å­—å‹"></a>å˜é‡.Length æ•°å­—å‹</h3><pre><code>å–å­—ä¸²é•¿åº¦ï¼šå¦‚ï¼šstring str=&quot;ä¸­å›½&quot;
int Len = str.Length ; //Lenæ˜¯è‡ªå®šä¹‰å˜é‡ï¼Œ stræ˜¯æ±‚æµ‹çš„å­—ä¸²çš„å˜é‡å</code></pre><h3 id="System-Text-Encoding-Default-GetBytes-å˜é‡-ï¼šå­—ç è½¬æ¢è½¬ä¸ºæ¯”ç‰¹ç "><a href="#System-Text-Encoding-Default-GetBytes-å˜é‡-ï¼šå­—ç è½¬æ¢è½¬ä¸ºæ¯”ç‰¹ç " class="headerlink" title="System.Text.Encoding.Default.GetBytes(å˜é‡)ï¼šå­—ç è½¬æ¢è½¬ä¸ºæ¯”ç‰¹ç "></a>System.Text.Encoding.Default.GetBytes(å˜é‡)ï¼šå­—ç è½¬æ¢è½¬ä¸ºæ¯”ç‰¹ç </h3><pre><code>byte[]bytStr = System.Text.Encoding.Default.GetBytes(str);
ç„¶åå¯å¾—åˆ°æ¯”ç‰¹é•¿åº¦ï¼šlen = bytStr.Length;</code></pre><h3 id="System-Text-StringBuilder-â€œâ€-å­—ç¬¦ä¸²ç›¸åŠ ï¼Œï¼ˆ-å·æ˜¯ä¸æ˜¯ä¹Ÿä¸€æ ·ï¼Ÿï¼‰"><a href="#System-Text-StringBuilder-â€œâ€-å­—ç¬¦ä¸²ç›¸åŠ ï¼Œï¼ˆ-å·æ˜¯ä¸æ˜¯ä¹Ÿä¸€æ ·ï¼Ÿï¼‰" class="headerlink" title="System.Text.StringBuilder(â€œâ€)- å­—ç¬¦ä¸²ç›¸åŠ ï¼Œï¼ˆ+å·æ˜¯ä¸æ˜¯ä¹Ÿä¸€æ ·ï¼Ÿï¼‰"></a>System.Text.StringBuilder(â€œâ€)- å­—ç¬¦ä¸²ç›¸åŠ ï¼Œï¼ˆ+å·æ˜¯ä¸æ˜¯ä¹Ÿä¸€æ ·ï¼Ÿï¼‰</h3><pre><code>System.Text.StringBuilder sb = new System.Text.StringBuilder(&quot;&quot;);
sb.Append(&quot;ä¸­å&quot;);
sb.Append(&quot;äººæ°‘&quot;);
sb.Append(&quot;å…±å’Œå›½&quot;);</code></pre><h3 id="å˜é‡-Substring-å‚æ•°1-å‚æ•°2-ï¼šæˆªå–å­—ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå‚æ•°1ä¸ºå·¦èµ·å§‹ä½æ•°ï¼Œå‚æ•°2ä¸ºæˆªå–å‡ ä½ã€‚"><a href="#å˜é‡-Substring-å‚æ•°1-å‚æ•°2-ï¼šæˆªå–å­—ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå‚æ•°1ä¸ºå·¦èµ·å§‹ä½æ•°ï¼Œå‚æ•°2ä¸ºæˆªå–å‡ ä½ã€‚" class="headerlink" title="å˜é‡.Substring(å‚æ•°1,å‚æ•°2)ï¼šæˆªå–å­—ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå‚æ•°1ä¸ºå·¦èµ·å§‹ä½æ•°ï¼Œå‚æ•°2ä¸ºæˆªå–å‡ ä½ã€‚"></a>å˜é‡.Substring(å‚æ•°1,å‚æ•°2)ï¼šæˆªå–å­—ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå‚æ•°1ä¸ºå·¦èµ·å§‹ä½æ•°ï¼Œå‚æ•°2ä¸ºæˆªå–å‡ ä½ã€‚</h3><pre><code>strings1 = str.Substring(0,2);</code></pre><h3 id="char-IsWhiteSpce-å­—ä¸²å˜é‡ï¼Œä½æ•°-â€”â€”é€»è¾‘å‹ï¼šæŸ¥æŒ‡å®šä½ç½®æ˜¯å¦ç©ºå­—ç¬¦"><a href="#char-IsWhiteSpce-å­—ä¸²å˜é‡ï¼Œä½æ•°-â€”â€”é€»è¾‘å‹ï¼šæŸ¥æŒ‡å®šä½ç½®æ˜¯å¦ç©ºå­—ç¬¦" class="headerlink" title="char.IsWhiteSpce(å­—ä¸²å˜é‡ï¼Œä½æ•°)â€”â€”é€»è¾‘å‹ï¼šæŸ¥æŒ‡å®šä½ç½®æ˜¯å¦ç©ºå­—ç¬¦"></a>char.IsWhiteSpce(å­—ä¸²å˜é‡ï¼Œä½æ•°)â€”â€”é€»è¾‘å‹ï¼šæŸ¥æŒ‡å®šä½ç½®æ˜¯å¦ç©ºå­—ç¬¦</h3><pre><code>string str=&quot;ä½ å¥½ AnimeKing&quot;;
char.IsWhiteSpace(str,2); //ç»“æœä¸ºï¼šTrue, ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯0ä½ï¼Œ2æ˜¯ç¬¬ä¸‰ä¸ªå­—ç¬¦ã€‚</code></pre><h3 id="char-IsPunctuation-â€˜å­—ç¬¦â€™-â€”â€”é€»è¾‘å‹ï¼šæŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ ‡ç‚¹ç¬¦å·"><a href="#char-IsPunctuation-â€˜å­—ç¬¦â€™-â€”â€”é€»è¾‘å‹ï¼šæŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ ‡ç‚¹ç¬¦å·" class="headerlink" title="char.IsPunctuation(â€˜å­—ç¬¦â€™) â€”â€”é€»è¾‘å‹ï¼šæŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ ‡ç‚¹ç¬¦å·"></a>char.IsPunctuation(â€˜å­—ç¬¦â€™) â€”â€”é€»è¾‘å‹ï¼šæŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ ‡ç‚¹ç¬¦å·</h3><pre><code>char.IsPunctuation(&apos;A&apos;);//è¿”å›ï¼šFalse</code></pre><h3 id="int-â€™å­—ç¬¦â€™-ï¼šæŠŠå­—ç¬¦è½¬ä¸ºæ•°å­—ï¼ŒæŸ¥ä»£ç ç‚¹ï¼Œæ³¨æ„æ˜¯å•å¼•å·"><a href="#int-â€™å­—ç¬¦â€™-ï¼šæŠŠå­—ç¬¦è½¬ä¸ºæ•°å­—ï¼ŒæŸ¥ä»£ç ç‚¹ï¼Œæ³¨æ„æ˜¯å•å¼•å·" class="headerlink" title="(int)â€™å­—ç¬¦â€™ ï¼šæŠŠå­—ç¬¦è½¬ä¸ºæ•°å­—ï¼ŒæŸ¥ä»£ç ç‚¹ï¼Œæ³¨æ„æ˜¯å•å¼•å·"></a>(int)â€™å­—ç¬¦â€™ ï¼šæŠŠå­—ç¬¦è½¬ä¸ºæ•°å­—ï¼ŒæŸ¥ä»£ç ç‚¹ï¼Œæ³¨æ„æ˜¯å•å¼•å·</h3><pre><code>(int)&apos;A&apos;; //ç»“æœä¸ºAå­—çš„ä»£ç ï¼š20013</code></pre><h3 id="char-ä»£ç -ï¼šæŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ï¼ŒæŸ¥ä»£ç ä»£è¡¨çš„å­—ç¬¦"><a href="#char-ä»£ç -ï¼šæŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ï¼ŒæŸ¥ä»£ç ä»£è¡¨çš„å­—ç¬¦" class="headerlink" title="(char)ä»£ç  ï¼šæŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ï¼ŒæŸ¥ä»£ç ä»£è¡¨çš„å­—ç¬¦"></a>(char)ä»£ç  ï¼šæŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ï¼ŒæŸ¥ä»£ç ä»£è¡¨çš„å­—ç¬¦</h3><pre><code>(char)22269; //è¿”å›â€œå›½â€å­—ã€‚</code></pre><h3 id="æ¸…é™¤å­—ä¸²å‰åç©ºæ ¼ï¼š"><a href="#æ¸…é™¤å­—ä¸²å‰åç©ºæ ¼ï¼š" class="headerlink" title="æ¸…é™¤å­—ä¸²å‰åç©ºæ ¼ï¼š"></a>æ¸…é™¤å­—ä¸²å‰åç©ºæ ¼ï¼š</h3><pre><code>å˜é‡.Trim()</code></pre><h3 id="å­—ä¸²æ›¿æ¢-ï¼šå­—ä¸²å˜é‡-Replace-â€œå­å­—ä¸²â€-â€æ›¿æ¢ä¸ºâ€"><a href="#å­—ä¸²æ›¿æ¢-ï¼šå­—ä¸²å˜é‡-Replace-â€œå­å­—ä¸²â€-â€æ›¿æ¢ä¸ºâ€" class="headerlink" title="å­—ä¸²æ›¿æ¢ ï¼šå­—ä¸²å˜é‡.Replace(â€œå­å­—ä¸²â€,â€æ›¿æ¢ä¸ºâ€)"></a>å­—ä¸²æ›¿æ¢ ï¼šå­—ä¸²å˜é‡.Replace(â€œå­å­—ä¸²â€,â€æ›¿æ¢ä¸ºâ€)</h3><pre><code>string str=&quot;ä¸­å›½&quot;;
str=str.Replace(&quot;å›½&quot;,&quot;å¤®&quot;); //å°†å›½å­—æ¢ä¸ºå¤®å­—
Response.Write(str); //è¾“å‡ºç»“æœä¸ºâ€œä¸­å¤®â€</code></pre><h3 id="å­—ä¸²å¯¹æ¯”ä¸€èˆ¬éƒ½ç”¨-if-str1-str2-ï¼Œå¹¶ä¸”ä¹Ÿæœ‰åˆ«çš„æ–¹æ³•"><a href="#å­—ä¸²å¯¹æ¯”ä¸€èˆ¬éƒ½ç”¨-if-str1-str2-ï¼Œå¹¶ä¸”ä¹Ÿæœ‰åˆ«çš„æ–¹æ³•" class="headerlink" title="å­—ä¸²å¯¹æ¯”ä¸€èˆ¬éƒ½ç”¨: if(str1==str2){ }  ï¼Œå¹¶ä¸”ä¹Ÿæœ‰åˆ«çš„æ–¹æ³•"></a>å­—ä¸²å¯¹æ¯”ä¸€èˆ¬éƒ½ç”¨: if(str1==str2){ }  ï¼Œå¹¶ä¸”ä¹Ÿæœ‰åˆ«çš„æ–¹æ³•</h3><pre><code>(1)  string str1; str2
//è¯­æ³•:str1.EndsWith(str2); __æ£€æµ‹å­—ä¸²str1æ˜¯å¦ä»¥å­—ä¸²str2ç»“å°¾,è¿”å›å¸ƒå°”å€¼.å¦‚ï¼š    if(str1.EndsWith(str2)){ Response.Write(&quot;å­—ä¸²str1æ˜¯ä»¥&quot;+str2+&quot;ç»“æŸçš„&quot;); }
(2) //è¯­æ³•:str1.Equals(str2);__æ£€æµ‹å­—ä¸²str1æ˜¯å¦ä¸å­—ä¸²str2ç›¸ç­‰,è¿”å›å¸ƒå°”å€¼,ç”¨æ³•åŒä¸Š
(3) //è¯­æ³•Equals(str1,str2); __æ£€æµ‹å­—ä¸²str1æ˜¯å¦ä¸å­—ä¸²str2ç›¸ç­‰,è¿”å›å¸ƒå°”å€¼,ç”¨æ³•åŒä¸Š</code></pre><h3 id="IndexOf-ã€LastIndexOf-ï¼šæŸ¥æ‰¾å­—ä¸²ä¸­æŒ‡å®šå­—ç¬¦æˆ–å­—ä¸²é¦–æ¬¡ï¼ˆæœ€åä¸€æ¬¡ï¼‰å‡ºç°çš„ä½ç½®ï¼Œè¿”å›ç´¢å¼•å€¼"><a href="#IndexOf-ã€LastIndexOf-ï¼šæŸ¥æ‰¾å­—ä¸²ä¸­æŒ‡å®šå­—ç¬¦æˆ–å­—ä¸²é¦–æ¬¡ï¼ˆæœ€åä¸€æ¬¡ï¼‰å‡ºç°çš„ä½ç½®ï¼Œè¿”å›ç´¢å¼•å€¼" class="headerlink" title="IndexOf()ã€LastIndexOf()ï¼šæŸ¥æ‰¾å­—ä¸²ä¸­æŒ‡å®šå­—ç¬¦æˆ–å­—ä¸²é¦–æ¬¡ï¼ˆæœ€åä¸€æ¬¡ï¼‰å‡ºç°çš„ä½ç½®ï¼Œè¿”å›ç´¢å¼•å€¼"></a>IndexOf()ã€LastIndexOf()ï¼šæŸ¥æ‰¾å­—ä¸²ä¸­æŒ‡å®šå­—ç¬¦æˆ–å­—ä¸²é¦–æ¬¡ï¼ˆæœ€åä¸€æ¬¡ï¼‰å‡ºç°çš„ä½ç½®ï¼Œè¿”å›ç´¢å¼•å€¼</h3><pre><code>str1.IndexOf(&quot;å­—&quot;)ï¼›//æŸ¥æ‰¾â€œå­—â€åœ¨str1ä¸­çš„ç´¢å¼•å€¼ï¼ˆä½ç½®ï¼‰
str1.IndexOf(&quot;å­—ä¸²&quot;)ï¼›//æŸ¥æ‰¾â€œå­—ä¸²â€çš„ç¬¬ä¸€ä¸ªå­—ç¬¦åœ¨str1ä¸­çš„ç´¢å¼•å€¼ï¼ˆä½ç½®ï¼‰
str1.IndexOf(&quot;å­—ä¸²&quot;,3,2)ï¼›//ä»str1ç¬¬4ä¸ªå­—ç¬¦èµ·ï¼ŒæŸ¥æ‰¾2ä¸ªå­—ç¬¦ï¼ŒæŸ¥æ‰¾â€œå­—ä¸²â€çš„ç¬¬ä¸€ä¸ªå­—ç¬¦åœ¨str1ä¸­çš„ç´¢å¼•å€¼ï¼ˆä½ç½®ï¼‰</code></pre><h3 id="Insert-åœ¨å­—ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½æ’å…¥æŒ‡å®šå­—ç¬¦"><a href="#Insert-åœ¨å­—ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½æ’å…¥æŒ‡å®šå­—ç¬¦" class="headerlink" title="Insert()åœ¨å­—ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½æ’å…¥æŒ‡å®šå­—ç¬¦"></a>Insert()åœ¨å­—ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½æ’å…¥æŒ‡å®šå­—ç¬¦</h3><pre><code>str1.Insert(1,&quot;å­—&quot;);åœ¨str1çš„ç¬¬äºŒä¸ªå­—ç¬¦å¤„æ’å…¥â€œå­—â€ï¼Œå¦‚æœstr1=&quot;ä¸­å›½&quot;ï¼Œæ’å…¥åä¸ºâ€œä¸­å­—å›½â€ï¼›</code></pre><h3 id="PadLeft-ã€PadRight-ï¼šåœ¨å­—ä¸²å·¦ï¼ˆæˆ–å³ï¼‰åŠ ç©ºæ ¼æˆ–æŒ‡å®šcharå­—ç¬¦ï¼Œä½¿å­—ä¸²è¾¾åˆ°æŒ‡å®šé•¿åº¦"><a href="#PadLeft-ã€PadRight-ï¼šåœ¨å­—ä¸²å·¦ï¼ˆæˆ–å³ï¼‰åŠ ç©ºæ ¼æˆ–æŒ‡å®šcharå­—ç¬¦ï¼Œä½¿å­—ä¸²è¾¾åˆ°æŒ‡å®šé•¿åº¦" class="headerlink" title="PadLeft()ã€PadRight() ï¼šåœ¨å­—ä¸²å·¦ï¼ˆæˆ–å³ï¼‰åŠ ç©ºæ ¼æˆ–æŒ‡å®šcharå­—ç¬¦ï¼Œä½¿å­—ä¸²è¾¾åˆ°æŒ‡å®šé•¿åº¦"></a>PadLeft()ã€PadRight() ï¼šåœ¨å­—ä¸²å·¦ï¼ˆæˆ–å³ï¼‰åŠ ç©ºæ ¼æˆ–æŒ‡å®šcharå­—ç¬¦ï¼Œä½¿å­—ä¸²è¾¾åˆ°æŒ‡å®šé•¿åº¦</h3><pre><code>string str1=&quot;ä¸­å›½äºº&quot;;
str1=str1.PadLeft(10,&apos;1&apos;); //æ— ç¬¬äºŒå‚æ•°ä¸ºåŠ ç©ºæ ¼ ,ç»“æœä¸ºâ€œ1111111ä¸­å›½äººâ€ ï¼Œ å­—ä¸²é•¿ä¸º10</code></pre><h3 id="Remove-ï¼šä»æŒ‡å®šä½ç½®å¼€å§‹åˆ é™¤æŒ‡å®šæ•°çš„å­—ç¬¦"><a href="#Remove-ï¼šä»æŒ‡å®šä½ç½®å¼€å§‹åˆ é™¤æŒ‡å®šæ•°çš„å­—ç¬¦" class="headerlink" title="Remove()ï¼šä»æŒ‡å®šä½ç½®å¼€å§‹åˆ é™¤æŒ‡å®šæ•°çš„å­—ç¬¦"></a>Remove()ï¼šä»æŒ‡å®šä½ç½®å¼€å§‹åˆ é™¤æŒ‡å®šæ•°çš„å­—ç¬¦</h3><pre><code>string str1=&quot;æˆ‘æ˜¯è¨è¾¾å§†çš„å´‡æ‹œè€…ä¹‹ä¸€&quot;;
str1.Remove(5,4); //ç»“æœä¸ºâ€œæˆ‘æ˜¯è¨è¾¾å§†ä¹‹ä¸€â€</code></pre><h3 id="åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰åˆ™åˆ›å»º"><a href="#åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰åˆ™åˆ›å»º" class="headerlink" title="åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰åˆ™åˆ›å»º"></a>åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰åˆ™åˆ›å»º</h3><pre><code>if (Directory.Exists(url) == false)
{
    Directory.CreateDirectory(url);
}</code></pre><h3 id="æ–¹æ³•ä¸­çš„å‚æ•°ï¼Œè¿”å›å€¼"><a href="#æ–¹æ³•ä¸­çš„å‚æ•°ï¼Œè¿”å›å€¼" class="headerlink" title="æ–¹æ³•ä¸­çš„å‚æ•°ï¼Œè¿”å›å€¼"></a>æ–¹æ³•ä¸­çš„å‚æ•°ï¼Œè¿”å›å€¼</h3><p>ref å‹å‚æ•°ï¼šè¯¥ç§ç±»å‹çš„å‚æ•°ä¼ é€’å˜é‡åœ°å€ç»™æ–¹æ³•ï¼ˆå¼•ç”¨ä¼ é€’ï¼‰ï¼Œä¼ é€’å‰å˜é‡å¿…é¡»åˆå§‹åŒ–ã€‚è¯¥ç±»å‹ä¸outå‹çš„åŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li>ref å‹ä¼ é€’å˜é‡å‰ï¼Œå˜é‡å¿…é¡»åˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™, è€Œ out å‹åˆ™ä¸éœ€è¦åˆå§‹åŒ–ã€‚</li>
<li>ref å‹ä¼ é€’å˜é‡ï¼Œæ•°å€¼å¯ä»¥ä¼ å…¥æ–¹æ³•ä¸­ï¼Œè€Œ out å‹æ— æ³•å°†æ•°æ®ä¼ å…¥æ–¹æ³•ä¸­ã€‚æ¢è€Œè¨€ä¹‹ï¼Œref å‹æœ‰è¿›æœ‰å‡ºï¼Œout å‹åªå‡ºä¸è¿›ã€‚</li>
</ul>
<p>out å‹å‚æ•°ï¼šä¸ ref å‹ç±»ä¼¼ï¼Œä»…ç”¨äºä¼ å›ç»“æœã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li><p>out å‹æ•°æ®åœ¨æ–¹æ³•ä¸­å¿…é¡»è¦èµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
<p>  å¦‚:å¦‚ä¸‹è‹¥å°†ä»£ç ä¸­çš„ sum 1 æ–¹æ³•çš„æ–¹æ³•ä½“</p>
<p>  æ”¹ä¸º a+=b ; åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚åŸå› ï¼šout å‹åªå‡ºä¸è¿›ï¼Œåœ¨æ²¡ç»™ a èµ‹å€¼å‰æ˜¯ä¸èƒ½ä½¿ç”¨çš„</p>
<p>  æ”¹ä¸º b+=b+2 ; ç¼–è¯‘å™¨ä¹Ÿä¼šæŠ¥é”™ã€‚åŸå› ï¼šout å‹æ•°æ®åœ¨æ–¹æ³•ä¸­å¿…é¡»è¦èµ‹å€¼ã€‚</p>
</li>
<li><p>é‡è½½æ–¹æ³•æ—¶è‹¥ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«ä»…é™äºä¸€ä¸ªå‚æ•°ç±»å‹ä¸º ref å¦ä¸€ä¸ªæ–¹æ³•ä¸­ä¸º out ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™</p>
<p>  å¦‚ï¼šè‹¥å°†ä¸‹é¢çš„ä»£ç ä¸­å°†æ–¹æ³•å vsum1 æ”¹ä¸º sumï¼ˆæˆ–è€…å°†æ–¹æ³•å sum æ”¹ä¸º sum1ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
<p>  Error 1 Cannot define overloaded method â€˜sumâ€™ because it differs from another method only on ref and out</p>
<p>  åŸå› ï¼šå‚æ•°ç±»å‹åŒºåˆ«ä»…é™äº ä¸º ref ä¸ä¸º out æ—¶ï¼Œè‹¥é‡è½½å¯¹ç¼–è¯‘å™¨è€Œè¨€ä¸¤è€…çš„å…ƒæ•°æ®è¡¨ç¤ºå®Œå…¨ç›¸åŒã€‚</p>
<pre><code>classC
{
    //1. inå‹å‚æ•°
    publicvoidsum(int a, int b) {
        a += b;
    }
    //2. refå‹å‚æ•°
    publicvoidsum(refint a, int b)
    {
        a += b;
    }
    //3. outå‹å‚æ•°
    publicvoidsum1(outint a, int b)
    {
        a = b+2;
    }
    publicstaticvoidMain(string[] args)
    {
        C c = new C();
        int a = 1, b = 2;
        c.sum(a,b);
        Console.WriteLine(&quot;a:{0}&quot;, a);
        a = 1; b = 2;
        c.sum(ref a, b);
        Console.WriteLine(&quot;ref a:{0}&quot;, a);
        a = 1; b = 2;
        c.sum1(out a, b);
        Console.WriteLine(&quot;out a:{0}&quot;, a);
    }
}</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2019/07/25/swift-learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/25/swift-learn/" itemprop="url">Swift5.0è¾¹å­¦è¾¹è®°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-25T22:35:37+08:00">2019-07-25</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Swift5-0è¾¹å­¦è¾¹è®°"><a href="#Swift5-0è¾¹å­¦è¾¹è®°" class="headerlink" title="Swift5.0è¾¹å­¦è¾¹è®°"></a>Swift5.0è¾¹å­¦è¾¹è®°</h1><h2 id="swiftc"><a href="#swiftc" class="headerlink" title="swiftc"></a>swiftc</h2><ul>
<li><p>å­˜æ”¾è·¯å¾„</p>
<pre><code>Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin</code></pre></li>
<li><p>æ“ä½œ</p>
<p>  ç”Ÿæˆè¯­æ³•æ ‘</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ swiftc -dump-ast main.swift</span><br></pre></td></tr></table></figure>


</li>
</ul>
<pre><code>ç”Ÿæˆæœ€ç®€æ´çš„SILä»£ç 

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swiftc -emit-sil main.swift</span><br></pre></td></tr></table></figure>


ç”ŸæˆLLVM IRä»£ç 

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ swiftc -emit-ir main.swift</span><br></pre></td></tr></table></figure>


ç”Ÿæˆæ±‡ç¼–ä»£ç 

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ swiftc -emit-assembly main.swift -o main.s</span><br></pre></td></tr></table></figure></code></pre><h2 id="æ±‡ç¼–"><a href="#æ±‡ç¼–" class="headerlink" title="æ±‡ç¼–"></a>æ±‡ç¼–</h2><h3 id="å¯„å­˜å™¨"><a href="#å¯„å­˜å™¨" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h3><h4 id="AT-amp-T"><a href="#AT-amp-T" class="headerlink" title="AT&amp;T"></a>AT&amp;T</h4><ul>
<li><p>16ä¸ªå¸¸ç”¨å¯„å­˜å™¨</p>
<p>  <code>rax, rbx, rcx, rdx, rsi, rdi, rbp, rsp</code><br>  <code>r8, r9, r10, r11, r12, r13, r14, r15</code></p>
</li>
<li><p>å¯„å­˜å™¨å…·ä½“ç”¨é€”</p>
<p>  rax, rdxå¸¸ä½œä¸ºå‡½æ•°è¿”å›å€¼ä½¿ç”¨</p>
<p>  rdi, rsi, rdx, rcx, r8, r9ç­‰å¯„å­˜å™¨å¸¸ç”¨äºå­˜æ”¾å‡½æ•°å‚æ•°</p>
<p>  rsp, rbpç”¨äºæ ˆæ“ä½œ</p>
<p>  ripä½œä¸ºæŒ‡ä»¤æŒ‡é’ˆï¼Œå­˜æ”¾ç€CPUä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ï¼Œä¸€æ—¦CPUè¯»å–ä¸€æ¡æŒ‡ä»¤ï¼Œripä¼šè‡ªåŠ¨æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤</p>
</li>
</ul>
<h4 id="ARM64"><a href="#ARM64" class="headerlink" title="ARM64"></a>ARM64</h4><h6 id="å¯„å­˜å™¨-1"><a href="#å¯„å­˜å™¨-1" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h6><ul>
<li><p>ARM64 æœ‰34ä¸ªå¯„å­˜å™¨ï¼ŒåŒ…æ‹¬31ä¸ªé€šç”¨å¯„å­˜å™¨ã€SPã€PCã€CPSR</p>
<table>
<thead>
<tr>
<th align="center">å¯„å­˜å™¨</th>
<th align="center">ä½æ•°</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">x0-x30</td>
<td align="center">64bit</td>
<td align="center">é€šç”¨å¯„å­˜å™¨ï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥å½“åš32bitä½¿ç”¨ï¼šwO-w30</td>
</tr>
<tr>
<td align="center">FP(x29)</td>
<td align="center">64bit</td>
<td align="center">ä¿å­˜æ ˆå¸§åœ°å€(æ ˆåº•æŒ‡é’ˆ)</td>
</tr>
<tr>
<td align="center">LR(x30)</td>
<td align="center">64bit</td>
<td align="center">é€šå¸¸ç§°X30ä¸ºç¨‹åºé“¾æ¥å¯„å­˜å™¨ï¼Œä¿å­˜å­ç¨‹åºç»“æŸåéœ€è¦æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤</td>
</tr>
<tr>
<td align="center">SP</td>
<td align="center">64bit</td>
<td align="center">ä¿å­˜æ ˆæŒ‡é’ˆ,ä½¿ç”¨ SP/WSP æ¥è¿›è¡Œå¯¹ SP å¯„å­˜å™¨çš„è®¿é—®</td>
</tr>
<tr>
<td align="center">PC</td>
<td align="center">64bit</td>
<td align="center">ç¨‹åºè®¡æ•°å™¨ï¼Œä¿—ç§°PCæŒ‡é’ˆï¼Œæ€»æ˜¯æŒ‡å‘å³å°†è¦æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤,åœ¨arm64ä¸­ï¼Œè½¯ä»¶æ˜¯ä¸èƒ½æ”¹å†™PCå¯„å­˜å™¨çš„</td>
</tr>
<tr>
<td align="center">CPSR</td>
<td align="center">64bit</td>
<td align="center">çŠ¶æ€å¯„å­˜å™¨</td>
</tr>
</tbody></table>
</li>
<li><p>ç”¨é€”</p>
<p>  x0 - x7: ç”¨äºå­ç¨‹åºè°ƒç”¨æ—¶çš„å‚æ•°ä¼ é€’ï¼Œx0è¿˜ç”¨äºè¿”å›å€¼ä¼ é€’ï¼Œå½“ä½¿ç”¨ r0 - r30 è®¿é—®æ—¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ª64ä½çš„æ•°ã€‚å½“ä½¿ç”¨ w0 - w30 è®¿é—®æ—¶ï¼Œè®¿é—®çš„æ˜¯è¿™äº›å¯„å­˜å™¨çš„ä½32ä½</p>
</li>
<li><p>æŒ‡ä»¤</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MOV    X1ï¼ŒX0         ;å°†å¯„å­˜å™¨X0çš„å€¼ä¼ é€åˆ°å¯„å­˜å™¨X1</span><br><span class="line">ADD    X0ï¼ŒX1ï¼ŒX2     ;å¯„å­˜å™¨X1å’ŒX2çš„å€¼ç›¸åŠ åä¼ é€åˆ°X0</span><br><span class="line">SUB    X0ï¼ŒX1ï¼ŒX2     ;å¯„å­˜å™¨X1å’ŒX2çš„å€¼ç›¸å‡åä¼ é€åˆ°X0</span><br><span class="line">AND    X0ï¼ŒX0ï¼Œ#0xF    ; X0çš„å€¼ä¸0xFç›¸ä½ä¸åçš„å€¼ä¼ é€åˆ°X0</span><br><span class="line">ORR    X0ï¼ŒX0ï¼Œ#9      ; X0çš„å€¼ä¸9ç›¸ä½æˆ–åçš„å€¼ä¼ é€åˆ°X0</span><br><span class="line">EOR    X0ï¼ŒX0ï¼Œ#0xF    ; X0çš„å€¼ä¸0xFç›¸å¼‚æˆ–åçš„å€¼ä¼ é€åˆ°X0</span><br><span class="line">LDR    X5ï¼Œ[X6ï¼Œ#0x08]        ï¼›X6å¯„å­˜å™¨åŠ 0x08çš„å’Œçš„åœ°å€å€¼å†…çš„æ•°æ®ä¼ é€åˆ°X5</span><br><span class="line">STR X0, [SP, #0x8]         ï¼›X0å¯„å­˜å™¨çš„æ•°æ®ä¼ é€åˆ°SP+0x8åœ°å€å€¼æŒ‡å‘çš„å­˜å‚¨ç©ºé—´</span><br><span class="line">STP  x29, x30, [sp, #0x10]    ;å…¥æ ˆæŒ‡ä»¤</span><br><span class="line">LDP  x29, x30, [sp, #0x10]    ;å‡ºæ ˆæŒ‡ä»¤</span><br><span class="line">CBZ  ;æ¯”è¾ƒï¼ˆCompareï¼‰ï¼Œå¦‚æœç»“æœä¸ºé›¶ï¼ˆZeroï¼‰å°±è½¬ç§»ï¼ˆåªèƒ½è·³åˆ°åé¢çš„æŒ‡ä»¤ï¼‰</span><br><span class="line">CBNZ ;æ¯”è¾ƒï¼Œå¦‚æœç»“æœéé›¶ï¼ˆNon Zeroï¼‰å°±è½¬ç§»ï¼ˆåªèƒ½è·³åˆ°åé¢çš„æŒ‡ä»¤ï¼‰</span><br><span class="line">CMP  ;æ¯”è¾ƒæŒ‡ä»¤ï¼Œç›¸å½“äºSUBSï¼Œå½±å“ç¨‹åºçŠ¶æ€å¯„å­˜å™¨CPSR </span><br><span class="line">B/BL  ;ç»å¯¹è·³è½¬#immï¼Œ è¿”å›åœ°å€ä¿å­˜åˆ°LRï¼ˆX30ï¼‰</span><br><span class="line">RET   ;å­ç¨‹åºè¿”å›æŒ‡ä»¤ï¼Œè¿”å›åœ°å€é»˜è®¤ä¿å­˜åœ¨LRï¼ˆX30ï¼‰</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="lldbå¸¸ç”¨æŒ‡ä»¤"><a href="#lldbå¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="lldbå¸¸ç”¨æŒ‡ä»¤"></a>lldbå¸¸ç”¨æŒ‡ä»¤</h3><ul>
<li><p>è¯»å–å¯„å­˜å™¨çš„å€¼</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ register read/æ ¼å¼</span><br><span class="line">exp:</span><br><span class="line">$ register read/x</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹å¯„å­˜å™¨çš„å€¼</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ register write å¯„å­˜å™¨åç§° æ•°å€¼</span><br><span class="line">exp:</span><br><span class="line">$ register write rax 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯»å–å†…å­˜ä¸­çš„å€¼</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ x/æ•°é‡-æ ¼å¼-å­—èŠ‚å¤§å° å†…å­˜åœ°å€</span><br><span class="line">exp:</span><br><span class="line">$ x/3xw 0x0000010</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹å†…å­˜ä¸­çš„å€¼</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ memory write å†…å­˜åœ°å€ æ•°å€¼</span><br><span class="line">exp:</span><br><span class="line">$ memory write 0x0000010 10</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¼å¼</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x æ˜¯16è¿›åˆ¶</span><br><span class="line">f æ˜¯æµ®ç‚¹</span><br><span class="line">d æ˜¯åè¿›åˆ¶</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—èŠ‚å¤§å°</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b - byte 1å­—èŠ‚</span><br><span class="line">h - half word 2å­—èŠ‚</span><br><span class="line">w - word 4å­—èŠ‚</span><br><span class="line">g - giant word 8å­—èŠ‚</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>è§„å¾‹</p>
<p>  å†…å­˜åœ°å€æ ¼å¼ä¸ºï¼š 0x4bdc(%rip), ä¸€èˆ¬æ˜¯å…¨å±€å˜é‡ï¼Œ å…¨å±€åŒºï¼ˆæ•°æ®æ®µï¼‰</p>
<p>  å†…å­˜åœ°å€æ ¼å¼ä¸ºï¼š -0x78(%rbp), ä¸€èˆ¬æ˜¯å±€éƒ¨å˜é‡ï¼Œæ ˆç©ºé—´</p>
<p>  å†…å­˜åœ°å€æ ¼å¼ä¸ºï¼š 0x10(%rax), ä¸€èˆ¬æ˜¯å †ç©ºé—´</p>
</li>
<li><p>æŸ¥çœ‹è°ƒç”¨æ ˆ</p>
<p>  <code>bt</code></p>
</li>
</ul>
<h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><ul>
<li><p>åŒé‡å¯é€‰</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var num : Int?? = nil</span><br><span class="line">print(num ?? 10)</span><br></pre></td></tr></table></figure>


</li>
</ul>
<pre><code>è¾“å‡ºç»“æœï¼š

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Optional(10)  // ä¸ºä»€ä¹ˆè¿˜ä¼šè¾“å‡ºä¸€ä¸ªå¯é€‰çš„10</span><br></pre></td></tr></table></figure>


åœ¨Swiftæºç ä¸­æ˜¯è¿™æ ·æè¿°çš„

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">///   - defaultValue: A value to use as a default. `defaultValue` is the same</span><br><span class="line">///     type as the `Wrapped` type of `optional`.</span><br><span class="line"></span><br><span class="line">public func ?? &lt;T&gt;(optional: T?, defaultValue: @autoclosure () throws -&gt; T)</span><br><span class="line">   rethrows -&gt; T &#123;</span><br><span class="line"> 		switch optional &#123;</span><br><span class="line"> 			case .some(let value):</span><br><span class="line">   			return value</span><br><span class="line"> 			case .none:</span><br><span class="line">   			return try defaultValue()</span><br><span class="line"> 		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2019/07/22/objc-before-main/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/22/objc-before-main/" itemprop="url">Appå¯åŠ¨æ—¶åœ¨mainå‡½æ•°ä¹‹å‰åšäº†ä»€ä¹ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-22T16:01:06+08:00">2019-07-22</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="App-å¯åŠ¨æ—¶åœ¨æ‰§è¡Œ-main-ä¹‹å‰åšäº†ä»€ä¹ˆ"><a href="#App-å¯åŠ¨æ—¶åœ¨æ‰§è¡Œ-main-ä¹‹å‰åšäº†ä»€ä¹ˆ" class="headerlink" title="App å¯åŠ¨æ—¶åœ¨æ‰§è¡Œ main() ä¹‹å‰åšäº†ä»€ä¹ˆ"></a>App å¯åŠ¨æ—¶åœ¨æ‰§è¡Œ main() ä¹‹å‰åšäº†ä»€ä¹ˆ</h2><ul>
<li><p>ç¼–è¯‘çš„å‡ ä¸ªä¸»è¦è¿‡ç¨‹ï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</p>
<ul>
<li>é¦–å…ˆï¼Œä½ å†™å¥½ä»£ç åï¼Œ<code>LLVM</code> ä¼šé¢„å¤„ç†ä½ çš„ä»£ç ï¼Œæ¯”å¦‚æŠŠå®åµŒå…¥åˆ°å¯¹åº”çš„ä½ç½®</li>
<li>é¢„å¤„ç†å®Œåï¼Œ<code>LLVM</code> ä¼šå¯¹ä»£ç è¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œç”Ÿæˆ <code>AST</code> ã€‚<code>AST</code> æ˜¯æŠ½è±¡è¯­æ³•æ ‘ï¼Œç»“æ„ä¸Šæ¯”ä»£ç æ›´ç²¾ç®€ï¼Œéå†èµ·æ¥æ›´å¿«ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>AST</code> èƒ½å¤Ÿæ›´å¿«é€Ÿåœ°è¿›è¡Œé™æ€æ£€æŸ¥ï¼ŒåŒæ—¶è¿˜èƒ½æ›´å¿«åœ°ç”Ÿæˆ <code>IR</code>ï¼ˆä¸­é—´è¡¨ç¤ºï¼‰</li>
<li>æœ€å <code>AST</code> ä¼šç”Ÿæˆ <code>IR</code>ï¼Œ<code>IR</code> æ˜¯ä¸€ç§æ›´æ¥è¿‘æœºå™¨ç çš„è¯­è¨€ï¼ŒåŒºåˆ«åœ¨äºå’Œå¹³å°æ— å…³ï¼Œé€šè¿‡ <code>IR</code> å¯ä»¥ç”Ÿæˆå¤šä»½é€‚åˆä¸åŒå¹³å°çš„æœºå™¨ç ã€‚å¯¹äº <code>iOS</code> ç³»ç»Ÿï¼Œ<code>IR</code> ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°±æ˜¯ <code>Mach-O</code></li>
</ul>
</li>
<li><p>åŠ è½½åŠ¨æ€é“¾æ¥åº“</p>
<p>  æŸ¥çœ‹ä¸€ä¸ª APP éƒ½ä½¿ç”¨äº†å“ªäº›åŠ¨æ€åº“ï¼ŒåŒ…æ‹¬ç³»ç»Ÿè‡ªå¸¦çš„åŠ¨æ€åº“å’Œç¬¬ä¸‰æ–¹åŠ¨æ€åº“ï¼Œè¿™äº›åŠ¨æ€åº“å°†ä¼šåœ¨åŠ¨æ€é“¾æ¥è¿‡ç¨‹ä¸­è¢«åŠ è½½</p>
<p>  æ‰¾åˆ°Appå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œé€šè¿‡ <code>otool</code> å‘½ä»¤:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ otool -L TestMain</span><br></pre></td></tr></table></figure>


</li>
</ul>
<pre><code>-L å‚æ•°æ‰“å°å‡ºæ‰€æœ‰ link çš„ frameworkï¼ˆå»æ‰äº†ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼‰

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TestMain:</span><br><span class="line">	/System/Library/Frameworks/Foundation.framework/Foundation</span><br><span class="line">	/usr/lib/libobjc.A.dylib</span><br><span class="line">	/usr/lib/libSystem.B.dylib</span><br><span class="line">	/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation</span><br><span class="line">	/System/Library/Frameworks/UIKit.framework/UIKit</span><br></pre></td></tr></table></figure>


å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªé»˜è®¤æ·»åŠ çš„ `lib`: `libobjc`(`objc` å’Œ `runtime`), `libSystem` ä¸­åŒ…å«äº†å¾ˆå¤šç³»ç»Ÿçº§åˆ«çš„ `lib`, æ¯”å¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„ `libdispatch`ï¼ˆGCDï¼‰, `libsystem_c`ï¼ˆCè¯­è¨€åº“ï¼‰, `libsystem_blocks`ï¼ˆBlockï¼‰, `libcommonCrypto`ï¼ˆåŠ å¯†åº“ï¼Œæ¯”å¦‚å¸¸ç”¨çš„ `md5` å‡½æ•°ï¼‰

è¿™äº› `lib` éƒ½æ˜¯ `dylib` æ ¼å¼çš„ï¼ˆå¦‚ `Windows` ä¸­çš„ `dll`ï¼‰, ä½¿ç”¨åŠ¨æ€é“¾æ¥æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š

- ä»£ç å…±ç”¨ï¼š å¾ˆå¤šç¨‹åºéƒ½åŠ¨æ€é“¾æ¥äº†è¿™äº› libï¼Œä½†å®ƒä»¬åœ¨å†…å­˜å’Œç£ç›˜ä¸­ä¸­åªæœ‰ä¸€ä»½
- æ˜“äºç»´æŠ¤ï¼š ç”±äºè¢«ä¾èµ–çš„ lib æ˜¯ç¨‹åºæ‰§è¡Œæ—¶æ‰ link çš„ï¼Œæ‰€ä»¥è¿™äº› lib å¾ˆå®¹æ˜“åšæ›´æ–°ï¼Œæ¯”å¦‚`libSystem.dylib` æ˜¯ `libSystem.B.dylib` çš„æ›¿èº«ï¼Œå“ªå¤©æƒ³å‡çº§ç›´æ¥æ¢æˆ `libSystem.C.dylib` ç„¶åå†æ›¿æ¢æ›¿èº«å°±è¡Œäº†
- å‡å°‘å¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯ï¼šç›¸æ¯”é™æ€é“¾æ¥ï¼ŒåŠ¨æ€é“¾æ¥åœ¨ç¼–è¯‘æ—¶ä¸éœ€è¦æ‰“è¿›å»ï¼Œæ‰€ä»¥å¯æ‰§è¡Œæ–‡ä»¶çš„ä½“ç§¯è¦å°å¾ˆå¤š</code></pre><ul>
<li><p>dyld</p>
<p>  <code>dyld(the dynamic link editor)</code>, åŠ¨æ€é“¾æ¥å™¨ï¼Œæ¦‚è¿° <code>dyld</code> åšäº†å¦‚ä¸‹å‡ ä»¶äº‹ï¼š</p>
<ul>
<li>å…ˆæ‰§è¡Œ <code>Mach-O</code> æ–‡ä»¶ï¼Œæ ¹æ® <code>Mach-O</code> æ–‡ä»¶é‡Œ <code>undefined</code> çš„ç¬¦å·åŠ è½½å¯¹åº”çš„åŠ¨æ€åº“ï¼Œç³»ç»Ÿä¼šè®¾ç½®ä¸€ä¸ªå…±äº«ç¼“å­˜æ¥è§£å†³åŠ è½½çš„é€’å½’ä¾èµ–é—®é¢˜</li>
<li>åŠ è½½åï¼Œå°† <code>undefined</code> çš„ç¬¦å·ç»‘å®šåˆ°åŠ¨æ€åº“é‡Œå¯¹åº”çš„åœ°å€ä¸Š</li>
<li>æœ€åå†å¤„ç† <code>+load</code> æ–¹æ³•ï¼Œ<code>main</code> å‡½æ•°è¿”å›åè¿è¡Œ <code>static terminator</code></li>
</ul>
</li>
<li><p>ImageLoader</p>
<p>  å°†æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œä¸”æ¯ä¸€ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ª <code>ImageLoader</code> å®ä¾‹æ¥è´Ÿè´£åŠ è½½ã€‚</p>
<ul>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶å®ƒå…ˆå°†åŠ¨æ€é“¾æ¥çš„ <code>image</code> é€’å½’åŠ è½½ ï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢åŠ è½½çš„é€’å½’ä¾èµ–é—®é¢˜ï¼‰</li>
<li>å†ä»å¯æ‰§è¡Œæ–‡ä»¶ <code>image</code> é€’å½’åŠ è½½æ‰€æœ‰ç¬¦å·</li>
</ul>
</li>
</ul>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li><code>dyld</code> å¼€å§‹å°†ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶(<code>Mach-O</code>)åˆå§‹åŒ–</li>
<li>äº¤ç”± <code>ImageLoader</code> è¯»å– <code>image</code>ï¼Œå…¶ä¸­åŒ…å«äº†æˆ‘ä»¬çš„ç±»ã€æ–¹æ³•ç­‰å„ç§ç¬¦å·</li>
<li>ç”±äº <code>runtime</code> å‘ <code>dyld</code> ç»‘å®šäº†å›è°ƒï¼Œå½“ <code>image</code> åŠ è½½åˆ°å†…å­˜åï¼Œ<code>dyld</code> ä¼šé€šçŸ¥ <code>runtime</code> è¿›è¡Œå¤„ç†</li>
<li><code>runtime</code> æ¥æ‰‹åè°ƒç”¨ <code>map_images</code> åšè§£æå’Œå¤„ç†ï¼Œæ¥ä¸‹æ¥ <code>load_images</code> ä¸­è°ƒç”¨ <code>call_load_methods</code> æ–¹æ³•ï¼Œéå†æ‰€æœ‰åŠ è½½è¿›æ¥çš„ <code>Class</code>ï¼ŒæŒ‰ç»§æ‰¿å±‚çº§ä¾æ¬¡è°ƒç”¨ <code>Class</code> çš„ <code>+load</code> æ–¹æ³•å’Œå…¶ <code>Category</code> çš„ <code>+load</code> æ–¹æ³•</li>
</ul>
<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>Q: é‡è½½è‡ªå·± <code>Class</code> çš„ <code>+load</code> æ–¹æ³•æ—¶éœ€ä¸éœ€è¦è°ƒçˆ¶ç±»ï¼Ÿ<br><br>A: <code>runtime</code> è´Ÿè´£æŒ‰ç»§æ‰¿é¡ºåºé€’å½’è°ƒç”¨ï¼Œæ‰€ä»¥ä¸èƒ½è°ƒ <code>super</code></p>
<p>Q: åœ¨è‡ªå·± <code>Class</code> çš„ <code>+load</code> æ–¹æ³•æ—¶èƒ½ä¸èƒ½æ›¿æ¢ç³»ç»Ÿ <code>framework</code>ï¼ˆæ¯”å¦‚ <code>UIKit</code>ï¼‰ä¸­çš„æŸä¸ªç±»çš„æ–¹æ³•å®ç°<br><br>A: å¯ä»¥ï¼Œå› ä¸ºåŠ¨æ€é“¾æ¥è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰ä¾èµ–åº“çš„ç±»æ˜¯å…ˆäºè‡ªå·±çš„ç±»åŠ è½½çš„</p>
<p>Q: é‡è½½ <code>+load</code> æ—¶éœ€è¦æ‰‹åŠ¨æ·»åŠ  <code>@autoreleasepool</code> ä¹ˆï¼Ÿ<br><br>A: ä¸éœ€è¦ï¼Œåœ¨ <code>runtime</code> è°ƒç”¨ <code>+load</code> æ–¹æ³•å‰åæ˜¯åŠ äº† <code>objc_autoreleasePoolPush()</code> å’Œ <code>objc_autoreleasePoolPop()</code> çš„ã€‚</p>
<p>Q: æƒ³è®©ä¸€ä¸ªç±»çš„ <code>+load</code> æ–¹æ³•è¢«è°ƒç”¨æ˜¯å¦éœ€è¦åœ¨æŸä¸ªåœ°æ–¹ <code>import</code> è¿™ä¸ªæ–‡ä»¶ï¼Ÿ<br><br>A: ä¸éœ€è¦ï¼Œåªè¦è¿™ä¸ªç±»çš„ç¬¦å·è¢«ç¼–è¯‘åˆ°æœ€åçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œ<code>+load</code> æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼ˆReveal SDK å°±æ˜¯åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œåªè¦å¼•å…¥åˆ°å·¥ç¨‹ä¸­å°±èƒ½å·¥ä½œï¼‰</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/pikacool1993/2019/07/18/hexo-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pikacool">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pikacool">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/18/hexo-install/" itemprop="url">macä¸‹ä½¿ç”¨hexoæ­å»ºblog</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-18T13:01:25+08:00">2019-07-18</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å®‰è£…-nvmï¼ˆNode-Version-Managerï¼‰"><a href="#å®‰è£…-nvmï¼ˆNode-Version-Managerï¼‰" class="headerlink" title="å®‰è£… nvmï¼ˆNode Version Managerï¼‰"></a>å®‰è£… nvmï¼ˆNode Version Managerï¼‰</h2><p>Terminalä¸­è¿è¡Œ <br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh | bash</span><br></pre></td></tr></table></figure>

<p><code>v0.33.8</code> æ˜¯nvmçš„ç‰ˆæœ¬å·ï¼Œæœ€æ–°ç‰ˆæœ¬è¯¦è§ï¼š <br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/creationix/nvm/blob/master/README.md</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåä¼šæç¤º <br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=&gt; Close and reopen your terminal to start using NVM</span><br></pre></td></tr></table></figure>

<p>é‡å¯ terminalï¼Œè¾“å…¥ <code>nvm</code> éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ, å½“ä¸€è¡Œå‡ºç° <code>Node Version Manager</code> æ—¶è¯´æ˜å®‰è£…æˆåŠŸ</p>
<p>ä½¿ç”¨ nvm å®‰è£… note.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm install stable</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåå®‰è£… hexoï¼Œè¿™ä¸€æ­¥æ—¶é—´ç¨å¾®æ¯”è¾ƒé•¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g -hexo</span><br></pre></td></tr></table></figure>

<p>ç„¶åé€‰æ‹©ä¸€ä¸ªæ–‡ä»¶è·¯å¾„åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir Blog</span><br><span class="line">$ cd Blog</span><br><span class="line">$ hexo init .</span><br><span class="line">$ ls</span><br></pre></td></tr></table></figure>

<p>å¦‚æœé‡åˆ° <code>hexo: command not found</code> çš„é”™è¯¯ï¼Œ è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm ls</span><br></pre></td></tr></table></figure>

<p>logä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code>       v0.10.48
-&gt;      v12.6.0
default -&gt; v12.6.0
node -&gt; stable (-&gt; v12.6.0) (default)
stable -&gt; 12.6 (-&gt; v12.6.0) (default)
iojs -&gt; N/A (default)
unstable -&gt; N/A (default)
lts/* -&gt; lts/dubnium (-&gt; N/A)
lts/argon -&gt; v4.9.1 (-&gt; N/A)
lts/boron -&gt; v6.17.1 (-&gt; N/A)
lts/carbon -&gt; v8.16.0 (-&gt; N/A)
lts/dubnium -&gt; v10.16.0 (-&gt; N/A)</code></pre><p>é€‰æ‹©ä½¿ç”¨ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ nvm use v12.6.0</span><br><span class="line">$ nvm alias default v12.6.0</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆå‡ºçš„ç›®å½•ç»“æ„ï¼š</p>
<pre><code>.
â”œâ”€â”€ _config.yml
â”œâ”€â”€ package.json
â”œâ”€â”€ db.json
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ node_modules
â”œâ”€â”€ scaffolds
â”œâ”€â”€ public
â”œâ”€â”€ source
|   â””â”€â”€ _posts
â””â”€â”€ themes</code></pre><p>æ–°å»ºä¸€ç¯‡æ–‡ç« </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new macä¸‹ä½¿ç”¨hexoæ­å»ºblog</span><br><span class="line">$ open source/_posts/macä¸‹ä½¿ç”¨hexoæ­å»ºblog.md</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘å®Œæˆåç”Ÿæˆhtml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°é¢„è§ˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br><span class="line">=&gt; [info] Hexo is running at localhost:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>Themeï¼Œå»å®˜æ–¹æä¾›çš„<a href="https://github.com/tommy351/hexo/wiki/Themes">ä¸»é¢˜åˆ—è¡¨</a>ä¸­é€‰ä¸ªç°æˆçš„ï¼ŒæŒ‰ç…§é‡Œé¢çš„æ–¹æ³•pullä¸‹æ¥ï¼Œå¦‚lightä¸»é¢˜</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone git://github.com/tommy351/hexo-theme-light.git themes/light</span><br></pre></td></tr></table></figure>

<p><code>_config.yml</code> é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: light</span><br></pre></td></tr></table></figure>

<p>é‡æ–°generateå’Œserveré¢„è§ˆï¼Œå°±çœ‹åˆ°å˜åŒ–äº†ã€‚</p>
<h2 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h2><p>åœ¨ github ä¸Šåˆ›å»ºä¸€ä¸ª respository <br><br>åœ¨ <code>_config.yml</code> ä¸­é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">type: git</span><br><span class="line">repository: https://github.com/pikacool1993/pikacool1993.github.io.git</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹æç¤ºè¯´æ˜éƒ¨ç½²æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Deploy done: git</span><br></pre></td></tr></table></figure>

<p>è‹¥å‡ºç°é”™è¯¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<h2 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h2><p>åœ¨ä¸‡ç½‘ä¹°äº†ä¸ªåŸŸå <code>pikacool.cn</code>, ç„¶åå°†ç‹¬ç«‹åŸŸåä¸GitHub Pagesçš„ç©ºé—´ç»‘å®š <br></p>
<p>åœ¨Blogç«™ç‚¹ public ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä½ è¦ç»‘å®šçš„åŸŸå <code>pikacool.cn</code> <br></p>
<p>æäº¤åˆ°githubä¸Šå»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>åŸŸååå°è§£æè®¾ç½®ä¸­æ·»åŠ è®°å½•ï¼ŒDNSåŸŸåè§£ææœ€å¸¸ç”¨çš„æ˜¯Aè®°å½•å’ŒCNAMEè®°å½•ï¼ŒAè®°å½•æŠŠåŸŸåè§£æåˆ°æœåŠ¡å™¨IPï¼ŒCNAMEç›¸å½“äºæŠŠä¸€ä¸ªåŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œå› æ­¤æˆ‘è¿™ä¸ªç”¨çš„æ˜¯CNAMEï¼Œè¦æ˜¯æ‰˜ç®¡çš„æœåŠ¡å™¨ä¹Ÿæ˜¯è‡ªå·±æ­çš„é‚£å°±ç”¨Aè®°å½•äº†ã€‚ <br></p>
<p>æ·»åŠ ä¸€ä¸ª A è®°å½•</p>
<pre><code>è®°å½•ç±»å‹ï¼šA
ä¸»æœºè®°å½•ï¼š@
è§£æçº¿è·¯ï¼šé»˜è®¤
è®°å½•å€¼ï¼šåˆ›å»ºçš„GitHub respository ipåœ°å€( ping ä¸€ä¸‹å°±çœ‹åˆ°äº†) å¦‚ï¼š185.199.109.153</code></pre><p>æ·»åŠ ä¸€ä¸ª CNAME è®°å½•</p>
<pre><code>è®°å½•ç±»å‹ï¼šCNAME
ä¸»æœºè®°å½•ï¼šwww
è§£æçº¿è·¯ï¼šé»˜è®¤
è®°å½•å€¼ï¼špikacool1993.github.io</code></pre><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æµ‹ä¸€ä¸‹åŸŸåçš„è§£æ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ dig pikacool.cn +nostats +nocomments +nocmd</span><br><span class="line">	</span><br><span class="line">output =&gt;:</span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; pikacool.cn +nostats +nocomments +nocmd</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;pikacool.cn.			IN	A</span><br><span class="line">pikacool.cn.		60	IN	A	185.199.109.153</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><h4 id="æ·»åŠ sitemap"><a href="#æ·»åŠ sitemap" class="headerlink" title="æ·»åŠ sitemap"></a>æ·»åŠ sitemap</h4><p>ä½¿ç”¨hexoæä¾›çš„æ’ä»¶ï¼Œå®‰è£…sitemapåˆ°æœ¬åœ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-sitemap</span><br></pre></td></tr></table></figure>

<p>å¼€å¯sitemapåŠŸèƒ½ï¼šç¼–è¾‘hexo/_config.ymlï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plugins:</span><br><span class="line">- hexo-generator-sitemap</span><br></pre></td></tr></table></figure>

<p>è®¿é—®zipperary/sitemap.xmlå³å¯çœ‹åˆ°ç«™ç‚¹åœ°å›¾ã€‚</p>
<h2 id="å›¾åºŠ"><a href="#å›¾åºŠ" class="headerlink" title="å›¾åºŠ"></a>å›¾åºŠ</h2><p><a href="https://sm.ms/" target="_blank" rel="noopener">ç™½å«–ç½‘ç«™</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">pikacool</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">pikacool</span>

  

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.0.0</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.0"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
